<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rarity Colors - Visual Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: #111;
      color: #fff;
      padding: 40px 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 2.5rem;
    }

    .subtitle {
      text-align: center;
      color: #aaa;
      margin-bottom: 40px;
      font-size: 1.1rem;
    }

    .success {
      text-align: center;
      color: #4ade80;
      font-weight: bold;
      font-size: 1.2rem;
      margin-bottom: 30px;
    }

    .colors-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 60px;
    }

    .color-card {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      transition: transform 0.2s;
    }

    .color-card:hover {
      transform: translateY(-4px);
    }

    .color-preview {
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      position: relative;
    }

    .color-info {
      background: #1a1a1a;
      padding: 16px;
    }

    .color-name {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .color-details {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
      color: #aaa;
    }

    .color-hex {
      font-family: 'Courier New', monospace;
      color: #fff;
    }

    .luminance {
      font-size: 0.85rem;
      color: #888;
    }

    .inline-preview {
      display: flex;
      gap: 2px;
      margin: 40px 0;
      padding: 20px;
      background: #222;
      border-radius: 8px;
      overflow-x: auto;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .inline-item {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: bold;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      transition: transform 0.2s;
      cursor: pointer;
    }

    .inline-item:hover {
      transform: scale(1.1);
      z-index: 10;
    }

    .section-title {
      font-size: 1.8rem;
      margin: 40px 0 20px;
      text-align: center;
    }

    .contrast-info {
      text-align: center;
      color: #aaa;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>✨ Rarity Color System</h1>
    <p class="subtitle">All adjacent pairs meet 3.5:1 contrast minimum for clear visual distinction</p>
    <p class="success">✅ All tests passed! Minimum contrast: 5.01:1</p>

    <h2 class="section-title">Side-by-Side Preview</h2>
    <p class="contrast-info">This is how rarities will look when displayed together</p>
    <div class="inline-preview" id="inlinePreview"></div>

    <h2 class="section-title">Individual Rarity Colors</h2>
    <div class="colors-grid" id="colorsGrid"></div>
  </div>

  <script>
    const rarities = [
      { name: 'Junk', color: '#D1D5DB', lum: 0.6626, tier: 0 },
      { name: 'Abundant', color: '#115E59', lum: 0.0885, tier: 1 },
      { name: 'Common', color: '#BEF264', lum: 0.7537, tier: 2 },
      { name: 'Uncommon', color: '#1E40AF', lum: 0.0704, tier: 3 },
      { name: 'Rare', color: '#E9D5FF', lum: 0.7213, tier: 4 },
      { name: 'Very Rare', color: '#701A75', lum: 0.0547, tier: 5 },
      { name: 'Magical', color: '#A5F3FC', lum: 0.7913, tier: 6 },
      { name: 'Elite', color: '#881337', lum: 0.0598, tier: 7 },
      { name: 'Epic', color: '#FBCFE8', lum: 0.7096, tier: 8 },
      { name: 'Legendary', color: '#7C2D12', lum: 0.0621, tier: 9 },
      { name: 'Mythic', color: '#FEF9C3', lum: 0.9276, tier: 10 },
      { name: 'Mythicc', color: '#7F1D1D', lum: 0.0548, tier: 11 },
      { name: 'Artifact', color: '#FDE68A', lum: 0.7931, tier: 12 },
      { name: 'Divine', color: '#064E3B', lum: 0.0580, tier: 13 },
      { name: 'Celestial', color: '#BAE6FD', lum: 0.7412, tier: 14 },
      { name: 'Reality Anchor', color: '#312E81', lum: 0.0419, tier: 15 },
      { name: 'Structural', color: '#DDD6FE', lum: 0.7062, tier: 16 },
      { name: 'Singularity', color: '#4C1D95', lum: 0.0459, tier: 17 },
      { name: 'Void', color: '#D9F99D', lum: 0.8494, tier: 18 },
      { name: 'Elder', color: '#0F172A', lum: 0.0088, tier: 19 },
      { name: 'Layer', color: '#FDA4AF', lum: 0.5053, tier: 20 },
      { name: 'Plane', color: '#134E4A', lum: 0.0608, tier: 21 },
      { name: 'Author', color: '#FFFFFF', lum: 1.0000, tier: 22 },
    ];

    // Create inline preview
    const inlinePreview = document.getElementById('inlinePreview');
    rarities.forEach(rarity => {
      const item = document.createElement('div');
      item.className = 'inline-item';
      item.style.backgroundColor = rarity.color;
      item.style.color = rarity.lum > 0.5 ? '#000' : '#fff';
      item.title = rarity.name;
      item.textContent = rarity.tier;
      inlinePreview.appendChild(item);
    });

    // Create individual cards
    const colorsGrid = document.getElementById('colorsGrid');
    rarities.forEach((rarity, index) => {
      const card = document.createElement('div');
      card.className = 'color-card';

      const preview = document.createElement('div');
      preview.className = 'color-preview';
      preview.style.backgroundColor = rarity.color;
      preview.style.color = rarity.lum > 0.5 ? '#000' : '#fff';
      preview.textContent = rarity.name;

      const info = document.createElement('div');
      info.className = 'color-info';

      const name = document.createElement('div');
      name.className = 'color-name';
      name.textContent = `Tier ${rarity.tier}: ${rarity.name}`;

      const details = document.createElement('div');
      details.className = 'color-details';

      const hex = document.createElement('div');
      hex.className = 'color-hex';
      hex.textContent = rarity.color;

      const lum = document.createElement('div');
      lum.className = 'luminance';
      lum.textContent = `Luminance: ${rarity.lum.toFixed(4)}`;

      // Calculate contrast with next rarity
      if (index < rarities.length - 1) {
        const nextRarity = rarities[index + 1];
        const l1 = Math.max(rarity.lum, nextRarity.lum);
        const l2 = Math.min(rarity.lum, nextRarity.lum);
        const contrast = (l1 + 0.05) / (l2 + 0.05);
        
        const contrastDiv = document.createElement('div');
        contrastDiv.className = 'luminance';
        contrastDiv.style.color = contrast >= 3.5 ? '#4ade80' : '#ef4444';
        contrastDiv.textContent = `Contrast with next: ${contrast.toFixed(2)}:1`;
        details.appendChild(contrastDiv);
      }

      details.appendChild(hex);
      details.appendChild(lum);

      info.appendChild(name);
      info.appendChild(details);

      card.appendChild(preview);
      card.appendChild(info);

      colorsGrid.appendChild(card);
    });
  </script>
</body>
</html>
